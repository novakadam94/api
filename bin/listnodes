#!/usr/bin/env python

# Copyright (C) 2015 MTA SZTAKI

"""
OCCO InfoBroker CLI.

Author: adam.visegradi@sztaki.mta.hu
"""

import occo.api.occoapp as occoapp
import yaml
import re

import occo.util
occo.util.logged.disabled = False

def setup_args(cfg):
    cfg.add_argument('-i', '--infra_id', default=None)
    cfg.add_argument('-n', '--node_name', default=None)

if __name__ == '__main__':
    occoapp.setup(setup_args)

    import occo.infobroker as ib
    print [node for node in
           ib.main_info_broker.get('node.find',
                                   occoapp.args.infra_id,
                                   occoapp.args.node_name)]
